<div id="deviceHomePage2" class="easyui-layout">

	<div data-options="region:'center',border:false" style="width:100%">
		<div style="font-size: 16px;color: #008ACD;margin: 10px 0px 10px 10px">
			设备运行情况概览
		</div>
		<!-- <table>
		<thead>
		<th>设备 </th>
		<th> 在线情况 </th>
		<th> 当天在线比 </th>
		<th> 上周在线比 </th>
		<th> 故障情况 </th>
		<th> 校时情况 </th>
		<th> 今日抓拍数 </th>
		<th> 上周日均抓拍数 </th>
		<th> 累计积压 </th>
		</thead>
		<tr>
		<td> 沪昆高速K100+500卡口 </td>
		<td> 在线 </td>
		<td> 80% </td>
		<td> 79% </td>
		<td> 雷达故障 </td>
		<td> 5分钟前 </td>
		<td> 1000 </td>
		<td> 1500 </td>
		<td> 0 </td>
		</tr>
		<tr>
		<td> 沪昆高速K100+500卡口 </td>
		<td> 在线 </td>
		<td> 80% </td>
		<td> 79% </td>
		<td> 雷达故障 </td>
		<td> 5分钟前 </td>
		<td> 1000 </td>
		<td> 1500 </td>
		<td> 0 </td>
		</tr>
		<tr>
		<td> 沪昆高速K100+500卡口 </td>
		<td> 在线 </td>
		<td> 80% </td>
		<td> 79% </td>
		<td> 雷达故障 </td>
		<td> 5分钟前 </td>
		<td> 1000 </td>
		<td> 1500 </td>
		<td> 0 </td>
		</tr>
		<tr>
		<td> 沪昆高速K100+500卡口 </td>
		<td> 在线 </td>
		<td> 80% </td>
		<td> 79% </td>
		<td> 雷达故障 </td>
		<td> 5分钟前 </td>
		<td> 1000 </td>
		<td> 1500 </td>
		<td> 0 </td>
		</tr>
		<tr>
		<td> 沪昆高速K100+500卡口 </td>
		<td> 在线 </td>
		<td> 80% </td>
		<td> 79% </td>
		<td> 雷达故障 </td>
		<td> 5分钟前 </td>
		<td> 1000 </td>
		<td> 1500 </td>
		<td> 0 </td>
		</tr>
		<tr>
		<td> 沪昆高速K100+500卡口 </td>
		<td> 在线 </td>
		<td> 80% </td>
		<td> 79% </td>
		<td> 雷达故障 </td>
		<td> 5分钟前 </td>
		<td> 1000 </td>
		<td> 1500 </td>
		<td> 0 </td>
		</tr>
		<tr>
		<td> 沪昆高速K100+500卡口 </td>
		<td> 在线 </td>
		<td> 80% </td>
		<td> 79% </td>
		<td> 雷达故障 </td>
		<td> 5分钟前 </td>
		<td> 1000 </td>
		<td> 1500 </td>
		<td> 0 </td>
		</tr>
		<tr>
		<td> 沪昆高速K100+500卡口 </td>
		<td> 在线 </td>
		<td> 80% </td>
		<td> 79% </td>
		<td> 雷达故障 </td>
		<td> 5分钟前 </td>
		<td> 1000 </td>
		<td> 1500 </td>
		<td> 0 </td>
		</tr>
		<tr>
		<td> 沪昆高速K100+500卡口 </td>
		<td> 在线 </td>
		<td> 80% </td>
		<td> 79% </td>
		<td> 雷达故障 </td>
		<td> 5分钟前 </td>
		<td> 1000 </td>
		<td> 1500 </td>
		<td> 0 </td>
		</tr>
		<tr>
		<td> 沪昆高速K100+500卡口 </td>
		<td> 在线 </td>
		<td> 80% </td>
		<td> 79% </td>
		<td> 雷达故障 </td>
		<td> 5分钟前 </td>
		<td> 1000 </td>
		<td> 1500 </td>
		<td> 0 </td>
		</tr>
		<tr>
		<td> 沪昆高速K100+500卡口 </td>
		<td> 在线 </td>
		<td> 80% </td>
		<td> 79% </td>
		<td> 雷达故障 </td>
		<td> 5分钟前 </td>
		<td> 1000 </td>
		<td> 1500 </td>
		<td> 0 </td>
		</tr>
		<tr>
		<td> 沪昆高速K100+500卡口 </td>
		<td> 在线 </td>
		<td> 80% </td>
		<td> 79% </td>
		<td> 雷达故障 </td>
		<td> 5分钟前 </td>
		<td> 1000 </td>
		<td> 1500 </td>
		<td> 0 </td>
		</tr>
		</table> -->
		<table id="mainGrd">

		</table>
	</div>
</div>
<script type="text/javascript">
    InitPage([], function($scope) {
        $scope.load = function() {
            $scope.$('#mainGrd').datagrid({
                singleSelect : true,
                striped : true,
                fit : true,
                fitColumns : true,
                columns : [[{
                    field : 'deviceName',
                    title : '设备1',
                    width:100
                }, {
                    field : 'onlineStatus',
                    title : '在线情况',
                    width:50
                }, {
                    field : 'onlineDayPercent',
                    title : '当天在线比',
                    width:50
                }, {
                    field : 'onlineWeekPercent',
                    title : '上周在线比',
                    width:50
                }, {
                    field : 'bugStatus',
                    title : '故障情况',
                    width:60
                }, {
                    field : 'checkTime',
                    title : '校时情况',
                    width:50
                }, {
                    field : 'snapDay',
                    title : '今日抓拍数(条)',
                    width:70
                }, {
                    field : 'snapWeek',
                    title : '上周日均抓拍数(条)',
                    width:70
                }, {
                    field : 'backlog',
                    title : '累计积压(条)',
                    width:50
                }, {
                    field : 'opt',
                    title : '',
                    width:50
                }]],
                border : true
            });
            
            $scope.searchDeviceStatusData();
            
        };
        
        $.extend($scope, {
            searchDeviceStatusData : function() {
                $scope.$ajaxRequest({
                    url : 'data/deviceManage/deviceHomePage/deviceStatusForHome.json',
                    // params : {},
                    // contextId : "",
                    success : function(result) {
                        //查询成功 加载数据
                        $scope.$('#mainGrd').datagrid("loadData", result);
                    },
                    fail : function(errMsg) {
                        alert(errMsg);
                    }
                });
            }
        });
        
    }); 
</script>
<style>
    #deviceHomePage2 {
        height: 100%;
        width: 100%
    }
    
    #deviceHomePage2 th {
        line-height: 35px;
        height: 35px;
        padding: 10px;
        font-size: 16px;
        text-align: center;
        margin-left: 10px;
    }
    #deviceHomePage2 td {
        line-height: 30px;
        height: 30px;
        padding: 5px;
        font-size: 14px;
        text-align: center;
        margin-left: 10px;
    }
</style>