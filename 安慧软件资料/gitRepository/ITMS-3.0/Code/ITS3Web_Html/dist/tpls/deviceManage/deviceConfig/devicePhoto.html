<form method="post" id="devicePhotoFrm"><div style="width:100%"><div style="margin:8px 8px 0 8px"><a class="easyui-linkbutton button-save" data-options="iconCls:'icon-save',plain:true" cy-click="savePhoto">保存</a></div><div id="container" style="overflow-y:auto;height:440px;width:884px"><div class="table" style="margin-top:5px"><div class="tr"><div class="td" style="width:100%"><div id="photoDiv" style="float:left"></div><div id="upDevicePhotoTemDiv" class="imgDiv"><img id="upDevicePhoto" src="themes/default/images/upload.png" style="margin:70px"></div></div></div></div></div></div></form><script type="text/javascript">InitPage(["mode"],function(e){function i(){return new plupload.Uploader({runtimes:"html5",browse_button:"upDevicePhoto",container:e.$("#upDevicePhotoTemDiv")[0],url:"upload.php",filters:{max_file_size:"10mb",prevent_duplicates:!0,mime_types:[{title:"照片文件",extensions:"jpg,png,jpeg,bmp,gif"}]},init:{PostInit:function(){},FilesAdded:function(e,i){for(var n=0;n<i.length;n++){var o=i[n];t(o)}},Error:function(e,i){console.log(i)}}})}function t(i){var t=i.name;e.imageFiles[t]=i;var n=new FileReader;n.readAsDataURL(i.getSource().getSource()),n.onload=function(n){e.imageUrls[t]=this.result;var o=$("<div class='imgDiv'></div>"),r=$("<img style='width: 270px;height: 270px'/>");r.attr("src",this.result),o.append(r);var a=$("<div style='margin-left: 130px;margin-bottom: 5px'>删除</div>");a.click(function(){$(this).parent().remove(),e.uploader.removeFile(i)}),o.append(a),e.$("#photoDiv").append(o)}}e.load=function(){e.uploader=i(),e.uploader.init(),e.imageFiles={},e.imageUrls={}},e.savePhoto=function(){}});</script><style>#devicePhotoFrm .imgDiv{float:left;border:dashed 1px silver;margin:5px;height:270px;width:270px}#devicePhotoFrm .th{width:80px;text-align:right}#devicePhotoFrm .td{width:208px}</style>