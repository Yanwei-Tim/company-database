<div id="manufacturerInfo" class="easyui-layout"><div data-options="region:'north',border:false"><form method="post" cy-form="formData"><div class="searchPanel"><div class="panel_title">查询条件</div><div class="table"><div class="tr"><div class="th">承建商：</div><div class="td"><select class="easyui-combobox" name="contractor_name"><option>==请选择==</option></select></div><div class="td"><a class="easyui-linkbutton button-search" data-options="iconCls:'icon-search'" cy-click="searchData">查询</a></div></div></div></div></form><div class="linkbutton_toolbar"><a class="easyui-linkbutton button-add" data-options="iconCls:'icon-add'" cy-click="addData">新增</a> <a class="easyui-linkbutton button-remove" data-options="iconCls:'icon-remove'" cy-click="removeSomeData">批量删除</a></div></div><div data-options="region:'center',border:true"><table id="companyInfo" cy-datagrid="options" cy-querydata="queryData" cy-url="data/deviceManage/informationManage/companyData.json"></table></div></div><script type="text/javascript">InitPage([],function(a){function t(a,t,e){var i=$("<a title='编辑' class='button-edit' cy-click='editData("+e+")'></a>"),n=$("<a title='删除' class='button-remove' cy-click='removeData("+e+")'></a>");return i.linkbutton({iconCls:"icon-edit"}),n.linkbutton({iconCls:"icon-remove"}),$("<span/>").append(i).append(" ").append(n).html()}function e(t){$.ajax({url:"",data:t,dataType:"json",success:function(t){a.search("queryData")}})}a.options={columns:[[{field:"id",checkbox:!0},{title:"承建商",field:"CONTRACTOR_NAME",width:100},{title:"联系地址",field:"ADDRESS_DESC",width:150},{title:"售后负责人",field:"CONTRACTOR_PERSON",width:100},{title:"售后负责人联系电话",field:"CONTRACTOR_TEL",width:150},{title:"操作",field:"OPERATER",width:100,formatter:t}]]},a.searchData=function(){a.$search("queryData")},a.addData=function(){a.$openDialog("addDialog",{title:"新增厂商信息",width:450,height:250,href:"tpls/deviceManage/informationManage/companyOperate.html"},!0),a.$setParam("closeSelf",function(){a.$getDialog("addDialog").dialog("close")}),a.$setParam("saveData",function(t){$.ajax({url:"",data:"",dataType:"json",success:function(t){a.search("queryData")}})})},a.editData=function(t){var i=a.$("#companyInfo").datagrid("getData").rows;a.$setParam("newData",{CONTRACTOR_NAME:i[t].CONTRACTOR_NAME,ADDRESS_DESC:i[t].ADDRESS_DESC,CONTRACTOR_PERSON:i[t].CONTRACTOR_PERSON,CONTRACTOR_TEL:i[t].CONTRACTOR_TEL}),a.$openDialog("editDialog",{title:"编辑厂商信息",width:450,height:250,href:"tpls/deviceManage/informationManage/companyOperate.html"},!0),a.$setParam("closeSelf",function(){a.$getDialog("editDialog").dialog("close")}),e(data)},a.removeData=function(a){alert(a)},a.removeSomeData=function(){var a=$("#companyInfo").datagrid("getChecked");return 0==a.length?(alert("请选择需要删除的信息！"),!1):void alert("删除")}});</script><style type="text/css">#manufacturerInfo .th{width:80px;text-align:right}#manufacturerInfo .easyui-combobox{width:120px}#manufacturerInfo .button-search{margin-left:10px}</style>