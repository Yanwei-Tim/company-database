<div class="easyui-layout">
    <div data-options="region:'north',border:false">
        <form method="post" cy-form="formData">
            <div class="table">
                <div class="tr">
                    <div class="td" style="padding-left: 5px">
                        管理机构：
                    </div>
                    <div class="td">
                        <select class="easyui-combotree" panelHeight="auto" data-options="url:'\\data\\passvehicle\\chooseLocationInit.json',method: 'get',valueField:'id',textField:'text'"
                                style="width:150px"><!---->
                        </select>
                    </div>
                    <div class="td" style="padding-left: 5px">
                        合同类型：
                    </div>
                    <div class="td">
                        <input class="easyui-combobox"

                               style="width:150px"/>
                        <!--data-options="data:jsonObj,method:'get',valueField:'id',textField:'text',multiple:true"-->
                    </div>
                    <div class="td" style="padding-left: 5px">
                        承建商：
                    </div>
                    <div class="td">
                        <input class="easyui-combobox"

                               style="width:150px"/><!-- data-options="data:siteObj,method:'get',valueField:'id',textField:'text',multiple:true"-->
                    </div>
                    <div class="td" style="padding-left: 5px">
                        签署时间：
                    </div>
                    <div class="td">
                        <input class="easyui-datetimebox"></div>
                    <div class="td" style="float:left; text-align: right;padding-left: 5px" >
                        至：
                    </div>
                    <div class="td">
                        <input class="easyui-datetimebox"></div>
                </div>

                <div class="tr">
                    <div class="td" style="padding-left: 5px">
                        <a class="easyui-linkbutton button"
                           data-options="iconCls:'icon-search'"
                           cy-click="searchData">查询</a>
                    </div>
                    <div class="td" style="padding-left: 5px">
                        <a class="easyui-linkbutton button-add"
                           data-options="iconCls:'icon-add'" cy-click="addData"
                                >新增</a></div>
                    <!--onclick="openRegWnd()"-->
                    <div class="td" style="padding-left: 5px">
                        <a class="easyui-linkbutton button-edit"
                           data-options="iconCls:'icon-edit'" cy-click="editData"
                                >修改</a></div>
                    <!--onclick="openRegWnd()"-->
                    <div class="td" style="padding-left: 5px">
                        <a class="easyui-linkbutton button-remove"
                           data-options="iconCls:'icon-clear'" cy-click="deleteData"
                                >删除</a></div>
                    <!--onclick="deleteRow()"-->
                </div>
            </div>
        </form>
    </div>
    <div data-options="region:'center',border:true">
        <table cy-datagrid="options" cy-querydata="formData" cy-url="data/passvehicle/data.json">
        </table>
    </div>
</div>
</div>
<script type="text/javascript">
    InitPage([], function ($scope) {
        //给$scope增加一些属性和方法，也可以使用$scope.XXX = XXX来添加
        $.extend($scope, {
            formData: {
                /*                username: "admin1231312",
                 password: "123456",
                 combo: 4,
                 code: 1234*/
            },
            changeData: function (value) {
                return value = value + 1;
            },
            searchData: function () {
                $scope.$search("formData", {

                }, function (data) {

                });
            },
            options: {
                columns: [
                    [//注意，此处是二维数组
                        {field: 'id', checkbox: true},
                        {title: "合同编号", field: "CONTRACT_NBR", width:10},
                        {title: "合同名称", field: "CONTRACT_NAME" , width:10},
                        {title: "合同类型", field: "CONTRACT_TYPE" , width:10},
                        {title: "所属机构", field: "ORG_ID" , width:10},
                        {title: "招标编号", field: "BID_NBR" , width:10},
                        {title: "承建商", field: "CONTRACTOR_ID" , width:10},
                        {title: "签署时间", field: "CONTRACT_TIME" , width:10},
                        {title: "投标联系人", field: "BID_CONTACT_NAME", width:10},
                        {title: "投标联系人电话", field: "BID_CONTACT_TEL", width:10},
                        {title: "服务期始", field: "BEGIN_SERVICE_DATE", width:10},
                        {title: "服务期至", field: "END_SERVICE_DATE", width:10},
                        {title: "服务期联系人", field: "SERVICE_PERSON", width:10},
                        {title: "服务期联系人电话", field: "SERVICE_PERSON_TEL", width:10},
                        {title: "备注", field: "REMARK" , width:10}
                    ]
                        ]
            },
            addData: function (event) {
                console.log(event.target);
                var paramData = {
                    /*   name: "abc",
                     password: "123456",
                     code: 1*/
                }
                $scope.$setParam("paramData", paramData);
                $scope.$openDialog("detailDailog",{
                    width: 650,
                    height: 473,
                    title:"合同详情",
                    href: "tpls/deviceManage/deviceMaintenance/detail.html"
                });
            }
        });

        function fmt(value) {
            return 123;
        }
    }, function ($scope) {

    });
</script>