set define off
spool 7_设备与装备视图变更.log

create or replace view v_device_equipment as
(select device_id,
       device_sys_model_id,
       contract_id,
       device_sys_nbr,
       device_name,
       s.org_id,
       device_type,
       device_brand,
       manufacture_sn,
       software_version,
       network_type,
       safe_connect_means,
       device_ip,
       device_port,
       user_name,
       password,
       sim_nbr,
       install_date,
       install_by,
       mounting_facility_type,
       enable_update_date,
       use_status_flag,
       longitude,
       latitude,
       status_type,
       status_update_time,
       sync_status,
       create_by,
       create_time,
       update_by,
       update_time,
       s.remark,
       power_type,
       transmission_mode,
       bandwidth,
       ownership,
       s.site_id,
       section_id_list,
/*       server_group_type_id,*/
       collection_type,
/*       start_time,*/
/*       end_time,*/
       st.road_id,
       s.org_privilege_code,
       contractor_id,
       SERVER_PLAT_ID,
        '1' as record_type,
       VERIFICATION_MARK
  from t_device_sys s left join t_sys_site st on s.site_id = st.site_id
union all
select equipment_id as device_id,
       device_sys_model_id,
       contract_id,
       equipment_nbr as device_sys_nbr,
       equipment_name as device_name,
       org_id,
       equipment_type as device_type,
       device_brand,
       manufacture_sn,
       software_version,
       '' as network_type,
       '' as safe_connect_means,
       '' as device_ip,
       null as device_port,
       '' as user_name,
       '' as password,
       '' as sim_nbr,
       install_date,
       '' as install_by,
       '' as mounting_facility_type,
       enable_update_date,
       use_status_flag,
       null as longitude,
       null as latitude,
       '' as status_type,
       null as status_update_time,
       '' as sync_status,
       create_by,
       create_time,
       update_by,
       update_time,
       remark,
       '' as power_type,
       '' as transmission_mode,
       '' as bandwidth,
       '' as ownership,
       '' as site_id,
       '' as section_id_list,
/*       '' as server_group_type_id,*/
       '' as collection_type,
/*       null as start_time,
       null as end_time,*/
       '' as road_id,
       org_privilege_code,
       contractor_id,
       '' as SERVER_PLAT_ID,
        '0' as record_type,
       VERIFICATION_MARK
  from t_device_equipment);
  
  
spool off

exit;