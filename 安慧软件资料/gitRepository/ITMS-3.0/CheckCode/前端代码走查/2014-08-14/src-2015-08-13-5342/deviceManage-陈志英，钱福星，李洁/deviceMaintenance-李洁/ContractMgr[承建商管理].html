<div class="easyui-layout">
    <div data-options="region:'north',border:false">
        <form method="post" cy-form="formData">
            <div class="table">
                <div class="tr">
                    <div class="td" style="padding-left: 5px">
                        承建商：
                    </div>
                    <div class="td">
                        <input class="easyui-combobox"
                               style="width:150px"/><!-- data-options="data:siteObj,method:'get',valueField:'id',textField:'text',multiple:true"-->
                    </div>
                    <div class="td" style="padding-left: 5px">
                        <a class="easyui-linkbutton button"
                           data-options="iconCls:'icon-search'"
                           cy-click="searchData">查询</a>
                    </div>
                    <div class="td" style="padding-left: 5px">
                        <a class="easyui-linkbutton button-add"
                           data-options="iconCls:'icon-add'" cy-click="addData"
                                >新增</a></div>
                    <!--onclick="openRegWnd()"-->
                    <div class="td" style="padding-left: 5px">
                        <a class="easyui-linkbutton button-edit"
                           data-options="iconCls:'icon-edit'" cy-click="editData"
                                >修改</a></div>
                    <!--onclick="openRegWnd()"-->
                    <div class="td" style="padding-left: 5px">
                        <a class="easyui-linkbutton button-remove"
                           data-options="iconCls:'icon-clear'" cy-click="deleteData"
                                >删除</a></div>
                    <!--onclick="deleteRow()"-->
                </div>
            </div>
        </form>
    </div>
    <div data-options="region:'center',border:true">
        <table cy-datagrid="options" cy-querydata="formData" cy-url="data/passvehicle/data.json">
        </table>
    </div>
</div>
</div>
<script type="text/javascript">
    InitPage([], function ($scope) {
        //给$scope增加一些属性和方法，也可以使用$scope.XXX = XXX来添加
        $.extend($scope, {
            formData: {
                /*                username: "admin1231312",
                 password: "123456",
                 combo: 4,
                 code: 1234*/
            },
            changeData: function (value) {
                return value = value + 1;
            },
            searchData: function () {
                $scope.$search("formData", {

                }, function (data) {

                });
            },
            options: {
                columns: [
                    [//注意，此处是二维数组
                        {field: 'id', checkbox: true},
                        {title: "承建商", field: "CONTRACTOR_NAME", width: 10},
                        {title: "联系地址", field: "ADDRESS_DESC", width: 10},
                        {title: "售后负责人", field: "CONTRACTOR_PERSON", width: 10},
                        {title: "负责人电话", field: "CONTRACTOR_TEL", width: 10},
                        {title: "备注", field: "REMARK", width: 10}
                    ]
                ]
            },
          addData: function (event) {
                console.log(event.target);
                var paramData = {
                    /*   name: "abc",
                     password: "123456",
                     code: 1*/
                }
                $scope.$setParam("paramData", paramData);
                $scope.$openDialog("detailDailog",{
                    width: 650,
                    height: 473,
                    title:"合同详情",
                    href: "tpls/deviceManage/deviceMaintenance/detail.html"
                });
            }
        });

        function fmt(value) {
            return 123;
        }
    }, function ($scope) {

    });
</script>